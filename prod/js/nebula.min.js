import*as THREE from"https://unpkg.com/three@0.126.1/build/three.module.js";let scene,camera,renderer,cloudGeo,cloudMaterial,cloudParticles=[],quitInit=!1,buttonWormhole=document.querySelector(".btn3");function init(){scene=new THREE.Scene,(camera=new THREE.PerspectiveCamera(45,window.innerWidth/window.innerHeight,1,1e3)).position.z=4,camera.rotation.x=1.17,camera.rotation.y=-.1,camera.rotation.z=.27;var e=new THREE.AmbientLight(3174);scene.add(e);let n=new THREE.DirectionalLight(255),t=(n.position.set(0,0,1),scene.add(n),new THREE.PointLight(3174,70,450,1.7)),o=(t.position.set(0,600,100),scene.add(t),new THREE.PointLight(16711680,50,450,1.7)),i=(o.position.set(100,600,100),new THREE.PointLight(65471,70,500,1.7)),r=(i.position.set(300,300,200),scene.add(i),(renderer=new THREE.WebGLRenderer).setSize(window.innerWidth,window.innerHeight),scene.fog=new THREE.FogExp2(1711681,.001),renderer.setClearColor(scene.fog.color),document.body.appendChild(renderer.domElement),new THREE.TextureLoader);const a=r.load("img/bubble2.jpg");a.minFilter=THREE.LinearFilter,scene.background=a,r.load("img/smoke-1.png",function(e){cloudGeo=new THREE.PlaneBufferGeometry(500,500),cloudMaterial=new THREE.MeshLambertMaterial({map:e,transparent:!0});for(let e=0;e<70;e++){let e=new THREE.Mesh(cloudGeo,cloudMaterial);e.position.set(800*Math.random()-400,500,500*Math.random()-500),e.rotation.x=1.17,e.rotation.y=-.1,e.rotation.z=2*Math.random()*Math.PI,e.material.opacity=.55,cloudParticles.push(e),scene.add(e)}}),window.addEventListener("resize",onWindowResize,!1),render()}function onWindowResize(){camera.aspect=window.innerWidth/window.innerHeight,camera.updateProjectionMatrix(),renderer.setSize(window.innerWidth,window.innerHeight)}function render(){cloudParticles.forEach(e=>{e.rotation.z-=8e-4}),renderer.render(scene,camera),!1===quitInit?requestAnimationFrame(render):console.log("system offline")}init(),buttonWormhole.addEventListener("click",function(){console.log("cancelling nebula matrix system"),quitInit=!0;let e=document.querySelector(".planet-nav");e.classList.add("active"),e.style.transform="translateY(0%)",document.querySelector(".planet-nav-title").classList.add("active-h2"),document.querySelector(".home-nav").classList.add("active-home-nav")});